/*********************************************************************************************/ /**
* Peer-graded Assignment: 
* Week 3 Assignment: Working with lists
**************************************************************************************************/

/*********************************************************************************************/ /**
* Includes 
**************************************************************************************************/
#include<stdio.h>  // Standard I/O Interface
#include<stdlib.h> // Standard Librasdd ry
#include<ctype.h>
/*********************************************************************************************/ /**
* Defines 
**************************************************************************************************/
#define SIZE 100         // size of 100 elements in list
/*********************************************************************************************/ /**
* Private typedef 
**************************************************************************************************/
typedef struct list
{
    int data; 
    struct list *next;
} list;
/*********************************************************************************************/ /**
* Function and vaiables declaration
**************************************************************************************************/
int is_empty(const list *l);
list *create_list(int d);
list *add_to_front(int d, list *h);
list *array_to_list(int d[], int size);
void print_list(list *h, char *title);
void swap(list *p1, list *p2);
void sort_list(list *h);
/*********************************************************************************************/ /**
* The main method
**************************************************************************************************/
int main ()
{
    list *L = create_list(rand() % 100);
    
    for(int i = 1; i < SIZE; i++)
    {
        L = add_to_front (rand() % 1000, L);
    }
    print_list(L, "\n\nList before sorting (bubble sort) : \n");

    sort_list(L);

    print_list(L, "\n\nList after sorting (bubble sort) : \n");

    return 0;    
}
/*********************************************************************************************/ /**
* Function definition: is_empty
**************************************************************************************************/
int is_empty(const list *l)
{
    return (l == NULL);
}
/*********************************************************************************************/ /**
* Function definition: create_list
**************************************************************************************************/
list *create_list(int d)
{
    list *head = malloc(sizeof(list));
    head -> data = d;
    head -> next = NULL;
    
    return head;
}
/*********************************************************************************************/ /**
* Function definition: add_to_front
**************************************************************************************************/
list *add_to_front(int d, list *h)
{
    list *head = create_list(d);
    head -> next = h;
    
    return head;
}
/*********************************************************************************************/ /**
* Function definition: array_to_list
**************************************************************************************************/
list *array_to_list(int d[], int size)
{
    list *head = create_list(d[0]);
    
    for(int i=1; i<size; i++)
    {
        head = add_to_front(d[i], head);
    }
    
    return head;
}
/*********************************************************************************************/ /**
* Function definition: print_list
**************************************************************************************************/
void print_list(list *h, char *title)
{
    int i = 0;
    printf("%s\n", title);
    while(h != NULL)
    {
        if(i != SIZE-1)
        {
            printf("%d\t", h -> data);
        }
        else
        {
            printf("%d", h->data);
        }

        //new line every 20 elements
        if ((i+1) % 20 == 0)
        {
            printf("\n");
        }

        h = h -> next;

        i++;
    }
}
/*********************************************************************************************/ /**
* Function definition: swap
**************************************************************************************************/
void swap(list *p1, list *p2)
{
    int temp = p1->data;
    p1->data = p2->data;
    p2->data = temp;
}
/*********************************************************************************************/ /**
* Function definition: sort_list
**************************************************************************************************/
void sort_list(list *h)
{
    int i, j;
    list *p1, *p2;

    for(i = SIZE-2; i >= 0; i--)
    {
        p1 = h;
        p2 = p1->next;

        for (j = 0; j <= i; j++)
        {
            if(p1->data > p2->data)
                swap(p1, p2);

            p1 = p2;
            p2 = p2->next;
        }
    }

}
/**********************************************************************************************************************************************************/ /**
* Compile:      $ gcc -o List_Bubble_Sort_v2.out List_Bubble_Sort_v2.c
* Run:          $ ./List_Bubble_Sort_v2.out
*
* Peer-graded Assignment: Week 3 Assignment: Working with lists
* Test Output for "List_Bubble_Sort_v2.c"
* *************************************************************************************************************************************************************
List Before sorting :

541     929     82      118     538     537     323     626     439     944     308     931     376     966     840     756     954     84      623     629
548     393     101     6       350     370     729     890     805     446     648     264     942     40      106     288     842     190     35      316
778     529     741     723     859     37      757     662     644     547     868     253     711     141     664     673     333     322     811     703
894     35      299     667     912     869     538     771     726     447     895     718     716     421     382     292     153     902     604     391
436     827     942     995     491     961     827     281     145     705     464     962     358     478     724     169     500     334     467     41


List After Sorting :

6       35      35      37      40      41      82      84      101     106     118     141     145     153     169     190     253     264     281     288
292     299     308     316     322     323     333     334     350     358     370     376     382     391     393     421     436     439     446     447
464     467     478     491     500     529     537     538     538     541     547     548     604     623     626     629     644     648     662     664
667     673     703     705     711     716     718     723     724     726     729     741     756     757     771     778     805     811     827     827
840     842     859     868     869     890     894     895     902     912     929     931     942     942     944     954     961     962     966     995

***************************************************************************************************************************************************************/